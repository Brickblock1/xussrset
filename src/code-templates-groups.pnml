  /// code definition - group properties

// Group name CB

#define name_in_group(name, name_g, lname_g)   \
switch(FEAT_TRAINS, SELF, name##_name_tree,    \
  getbits(extra_callback_info1, 8, 8) * 100 +  \
  enable_long_names)                           \
{   0: return name_g;                          \
    1: return lname_g;                         \
       return CB_FAILED; }                     \
switch (FEAT_TRAINS, PARENT, name##_name,      \
  getbits(extra_callback_info1, 0, 8) )        \
{ 0x20: name##_name_tree;                      \
        return CB_FAILED; }                    \

#define name_in_group_subgroup(name, name_g, lname_g, name_sg)  \
switch(FEAT_TRAINS, SELF, name##_name_tree,                     \
  getbits(extra_callback_info1, 8, 8) * 100 +                   \
  enable_long_names)                                            \
{   0: return name_g;                                           \
    1: return lname_g;                                          \
  100: return name_sg;                                          \
  101: return name_sg;                                          \
       return CB_FAILED; }                                      \
switch (FEAT_TRAINS, PARENT, name##_name,                       \
  getbits(extra_callback_info1, 0, 8) )                         \
{ 0x20: name##_name_tree;                                       \
        return CB_FAILED; }                                     \

#define name_in_group_sub_subgroup(name, name_g, lname_g, name_sg, name_ssg)  \
switch(FEAT_TRAINS, SELF, name##_name_tree,                                   \
  getbits(extra_callback_info1, 8, 8) * 100 +                                 \
  enable_long_names)                                                          \
{   0: return name_g;                                                         \
    1: return lname_g;                                                        \
  100: return name_sg;                                                        \
  101: return name_sg;                                                        \
  200: return name_ssg;                                                       \
  201: return name_ssg;                                                       \
       return CB_FAILED; }                                                    \
switch (FEAT_TRAINS, PARENT, name##_name,                                     \
  getbits(extra_callback_info1, 0, 8) )                                       \
{ 0x20: name##_name_tree;                                                     \
        return CB_FAILED; }                                                   \

#define name_in_group_full(name, name_template, name_group, name_short, name_long)  \
switch(FEAT_TRAINS, SELF, name##_name_all, enable_long_names)                       \
{   0: return string(name_short);                                                   \
       return string(name_long); }                                                  \
switch(FEAT_TRAINS, SELF, name##_name_tree,                                         \
  getbits(extra_callback_info1, 8, 8) * 100 +                                       \
  enable_long_names)                                                                \
{   0: return string(name_template, string(name_group), string(name_short));        \
    1: return string(name_template, string(name_group), string(name_long));         \
       name##_name_all; }                                                           \
switch (FEAT_TRAINS, PARENT, name##_name,                                           \
  getbits(extra_callback_info1, 0, 8) )                                             \
{ 0x20: name##_name_tree;                                                           \
        name##_name_all; }                                                          \

// A group CBs

#define group_CBs(name_g)                                             \
                     purchase: name_g##_purchase_sprites;             \
                  cost_factor: name_g##_cost_factor;                  \
                        speed: name_g##_speed;                        \
                        power: name_g##_power;                        \
                       weight: name_g##_weight;                       \
  tractive_effort_coefficient: name_g##_tractive_effort_coefficient;  \
          running_cost_factor: name_g##_running_cost_factor;          \
               cargo_capacity: name_g##_cargo_capacity;               \
              additional_text: name_g##_additional_text;              \

// A group does not changes props

#define group_props0(name_g, name0)                                  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text, 0)              \
{ name0##_additional_text; }                                         \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites, 0)             \
{ name0##_purchase_sprites; }                                        \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity, 0)               \
{  return (PROP_##name0##_CC); }                                     \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor, 0)                  \
{  return (PROP_##name0##_CF); }                                     \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor, 0)          \
{ return (PROP_##name0##_RC); }                                      \
switch (FEAT_TRAINS, SELF, name_g##_power, 0)                        \
{ return get_power_in_cb((PROP_##name0##_PR)); }                     \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient, 0)  \
{ return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT)); }    \
switch (FEAT_TRAINS, SELF, name_g##_weight, 0)                       \
{ return round(PROP_##name0##_WT); }                                 \
switch (FEAT_TRAINS, SELF, name_g##_speed, 0)                        \
{ return (PROP_##name0##_SD); }                                      \

// A group does not changes props as average

#define group_props0_HNMC(name_g, name0)                             \
switch (FEAT_TRAINS, SELF, name_g##_additional_text, 0)              \
{ name0##_additional_text; }                                         \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites, 0)             \
{ name0##_purchase_sprites; }                                        \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor, 0)                  \
{ return round(                                                      \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity, 0)               \
{ return round(                                                      \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor, 0)          \
{ return round(                                                      \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_power, 0)                        \
{ return get_power_in_cb(                                            \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient, 0)  \
{ return get_tec_int(                                                \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),      \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_weight, 0)                       \
{ return round(                                                      \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_speed, 0)                        \
{ return round(                                                      \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) ); }  \

// A group changes props once

#define group_props1(name_g, name0, name1, year1)                     \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                  \
  (current_year >= year1) )                                           \
{ 0: name0##_additional_text;                                         \
     name1##_additional_text; }                                       \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                 \
  (current_year >= year1) )                                           \
{ 0: name0##_purchase_sprites;                                        \
     name1##_purchase_sprites; }                                      \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                   \
  (current_year >= year1) )                                           \
{ 0: return (PROP_##name0##_CC);                                      \
     return (PROP_##name1##_CC); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                      \
  (current_year >= year1) )                                           \
{ 0: return (PROP_##name0##_CF);                                      \
     return (PROP_##name1##_CF); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,              \
  (current_year >= year1) )                                           \
{ 0: return (PROP_##name0##_RC);                                      \
     return (PROP_##name1##_RC); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_power,                            \
  (current_year >= year1) )                                           \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                     \
     return get_power_in_cb((PROP_##name1##_PR)); }                   \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,      \
  (current_year >= year1) )                                           \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));    \
     return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT)); }  \
switch (FEAT_TRAINS, SELF, name_g##_weight,                           \
  (current_year >= year1) )                                           \
{ 0: return round(PROP_##name0##_WT);                                 \
     return round(PROP_##name1##_WT); }                               \
switch (FEAT_TRAINS, SELF, name_g##_speed,                            \
  (current_year >= year1) )                                           \
{ 0: return (PROP_##name0##_SD);                                      \
     return (PROP_##name1##_SD); }                                    \

// A group change props once as average

#define group_props1_HNMC(name_g, name0, name1, year1)               \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                 \
  (current_year >= year1) )                                          \
{ 0: name0##_additional_text;                                        \
     name1##_additional_text; }                                      \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                \
  (current_year >= year1) )                                          \
{ 0: name0##_purchase_sprites;                                       \
     name1##_purchase_sprites; }                                     \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                     \
  (current_year >= year1) )                                          \
{ 0: return round(                                                   \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return round(                                                   \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                  \
  (current_year >= year1) )                                          \
{ 0: return round(                                                   \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return round(                                                   \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,             \
  (current_year >= year1) )                                          \
{ 0: return round(                                                   \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return round(                                                   \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_power,                           \
  (current_year >= year1) )                                          \
{ 0: return get_power_in_cb(                                         \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return get_power_in_cb(                                         \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,     \
  (current_year >= year1) )                                          \
{ 0: return get_tec_int(                                             \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),      \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return get_tec_int(                                             \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),      \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_weight,                          \
  (current_year >= year1) )                                          \
{ 0: return round(                                                   \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return round(                                                   \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \
switch (FEAT_TRAINS, SELF, name_g##_speed,                           \
  (current_year >= year1) )                                          \
{ 0: return round(                                                   \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +      \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +      \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /     \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +      \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );    \
     return round(                                                   \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +      \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +      \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /     \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +      \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) ); }  \

// A group change props 2 times

#define group_props2(name_g, name0, name1, year1, name2, year2)       \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                  \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: name0##_additional_text;                                         \
  1: name1##_additional_text;                                         \
     name2##_additional_text; }                                       \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                 \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: name0##_purchase_sprites;                                        \
  1: name1##_purchase_sprites;                                        \
     name2##_purchase_sprites; }                                      \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                      \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return (PROP_##name0##_CF);                                      \
  1: return (PROP_##name1##_CF);                                      \
     return (PROP_##name2##_CF); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                   \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return (PROP_##name0##_CC);                                      \
  1: return (PROP_##name1##_CC);                                      \
     return (PROP_##name2##_CC); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,              \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return (PROP_##name0##_RC);                                      \
  1: return (PROP_##name1##_RC);                                      \
     return (PROP_##name2##_RC); }                                    \
switch (FEAT_TRAINS, SELF, name_g##_power,                            \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                     \
  1: return get_power_in_cb((PROP_##name1##_PR));                     \
     return get_power_in_cb((PROP_##name2##_PR)); }                   \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,      \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));    \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));    \
     return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT)); }  \
switch (FEAT_TRAINS, SELF, name_g##_weight,                           \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(PROP_##name0##_WT);                                 \
  1: return round(PROP_##name1##_WT);                                 \
     return round(PROP_##name2##_WT); }                               \
switch (FEAT_TRAINS, SELF, name_g##_speed,                            \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return (PROP_##name0##_SD);                                      \
  1: return (PROP_##name1##_SD);                                      \
     return (PROP_##name2##_SD); }                                    \

// A group change props 2 times as average

#define group_props2_HNMC(name_g, name0, name1, year1, name2, year2)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                  \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: name0##_additional_text;                                         \
  1: name1##_additional_text;                                         \
     name2##_additional_text; }                                       \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                 \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: name0##_purchase_sprites;                                        \
  1: name1##_purchase_sprites;                                        \
     name2##_purchase_sprites; }                                      \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                      \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(                                                    \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return round(                                                    \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return round(                                                    \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                   \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(                                                    \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return round(                                                    \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return round(                                                    \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,              \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(                                                    \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return round(                                                    \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return round(                                                    \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_power,                            \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return get_power_in_cb(                                          \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return get_power_in_cb(                                          \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return get_power_in_cb(                                          \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,      \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return get_tec_int(                                              \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),       \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return get_tec_int(                                              \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),       \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return get_tec_int(                                              \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),       \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_weight,                           \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(                                                    \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return round(                                                    \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return round(                                                    \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \
switch (FEAT_TRAINS, SELF, name_g##_speed,                            \
  (current_year >= year1) +                                           \
  (current_year >= year2) )                                           \
{ 0: return round(                                                    \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +       \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +       \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /      \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +       \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );     \
  1: return round(                                                    \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +       \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +       \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /      \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +       \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );     \
     return round(                                                    \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +       \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +       \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /      \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +       \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) ); }   \

// A group change props 3 times

#define group_props3(name_g, name0, name1, year1, name2, year2, name3, year3)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                           \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: name0##_additional_text;                                                  \
  1: name1##_additional_text;                                                  \
  2: name2##_additional_text;                                                  \
     name3##_additional_text; }                                                \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                          \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: name0##_purchase_sprites;                                                 \
  1: name1##_purchase_sprites;                                                 \
  2: name2##_purchase_sprites;                                                 \
     name3##_purchase_sprites; }                                               \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                            \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return (PROP_##name0##_CC);                                               \
  1: return (PROP_##name1##_CC);                                               \
  2: return (PROP_##name2##_CC);                                               \
     return (PROP_##name3##_CC); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                               \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return (PROP_##name0##_CF);                                               \
  1: return (PROP_##name1##_CF);                                               \
  2: return (PROP_##name2##_CF);                                               \
     return (PROP_##name3##_CF); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                       \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return (PROP_##name0##_RC);                                               \
  1: return (PROP_##name1##_RC);                                               \
  2: return (PROP_##name2##_RC);                                               \
     return (PROP_##name3##_RC); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_power,                                     \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                              \
  1: return get_power_in_cb((PROP_##name1##_PR));                              \
  2: return get_power_in_cb((PROP_##name2##_PR));                              \
     return get_power_in_cb((PROP_##name3##_PR)); }                            \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,               \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));             \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));             \
  2: return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT));             \
     return get_tec_int((PROP_##name3##_TE), (PROP_##name3##_WT)); }           \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                    \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return round(PROP_##name0##_WT);                                          \
  1: return round(PROP_##name1##_WT);                                          \
  2: return round(PROP_##name2##_WT);                                          \
     return round(PROP_##name3##_WT); }                                        \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                     \
  (current_year >= year1) +                                                    \
  (current_year >= year2) +                                                    \
  (current_year >= year3) )                                                    \
{ 0: return (PROP_##name0##_SD);                                               \
  1: return (PROP_##name1##_SD);                                               \
  2: return (PROP_##name2##_SD);                                               \
     return (PROP_##name3##_SD); }                                             \

// A group change props 3 times as average

#define group_props3_HNMC(name_g, name0, name1, year1, name2, year2, name3, year3)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: name0##_additional_text;                                                       \
  1: name1##_additional_text;                                                       \
  2: name2##_additional_text;                                                       \
     name3##_additional_text; }                                                     \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                               \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: name0##_purchase_sprites;                                                      \
  1: name1##_purchase_sprites;                                                      \
  2: name2##_purchase_sprites;                                                      \
     name3##_purchase_sprites; }                                                    \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                    \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return round(                                                                  \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return round(                                                                  \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return round(                                                                  \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return round(                                                                  \
             ((PROP_##name3##_h_CF)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_CF)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_CF)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_CF)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                 \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return round(                                                                  \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return round(                                                                  \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return round(                                                                  \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return round(                                                                  \
             ((PROP_##name3##_h_CC)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_CC)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_CC)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_CC)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                            \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return round(                                                                  \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return round(                                                                  \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return round(                                                                  \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return round(                                                                  \
             ((PROP_##name3##_h_RC)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_RC)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_RC)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_RC)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_power,                                          \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return get_power_in_cb(                                                        \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return get_power_in_cb(                                                        \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return get_power_in_cb(                                                        \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return get_power_in_cb(                                                        \
             ((PROP_##name3##_h_PR)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_PR)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_PR)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_PR)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                    \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return get_tec_int(                                                            \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),                     \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return get_tec_int(                                                            \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),                     \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return get_tec_int(                                                            \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),                     \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return get_tec_int(                                                            \
             ((PROP_##name3##_h_TE)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_TE)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_TE)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_TE)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)),                     \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                         \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return round(                                                                  \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return round(                                                                  \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return round(                                                                  \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return round(                                                                  \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                          \
  (current_year >= year1) +                                                         \
  (current_year >= year2) +                                                         \
  (current_year >= year3) )                                                         \
{ 0: return round(                                                                  \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +                     \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +                     \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /                    \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                     \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                   \
  1: return round(                                                                  \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +                     \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +                     \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /                    \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                     \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                   \
  2: return round(                                                                  \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +                     \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +                     \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /                    \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                     \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                   \
     return round(                                                                  \
             ((PROP_##name3##_h_SD)  * (PROP_##name3##_h_num) +                     \
              (PROP_##name3##_n_SD)  * (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_SD)  * (PROP_##name3##_m_num) +                     \
              (PROP_##name3##_c_SD)  * (PROP_##name3##_c_num)) /                    \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                     \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) ); }                 \

// A group change props 4 times

#define group_props4(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                         \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: name0##_additional_text;                                                                \
  1: name1##_additional_text;                                                                \
  2: name2##_additional_text;                                                                \
  3: name3##_additional_text;                                                                \
     name4##_additional_text; }                                                              \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                        \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: name0##_purchase_sprites;                                                               \
  1: name1##_purchase_sprites;                                                               \
  2: name2##_purchase_sprites;                                                               \
  3: name3##_purchase_sprites;                                                               \
     name4##_purchase_sprites; }                                                             \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                          \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return (PROP_##name0##_CC);                                                             \
  1: return (PROP_##name1##_CC);                                                             \
  2: return (PROP_##name2##_CC);                                                             \
  3: return (PROP_##name3##_CC);                                                             \
     return (PROP_##name4##_CC); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                             \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return (PROP_##name0##_CF);                                                             \
  1: return (PROP_##name1##_CF);                                                             \
  2: return (PROP_##name2##_CF);                                                             \
  3: return (PROP_##name3##_CF);                                                             \
     return (PROP_##name4##_CF); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                     \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return (PROP_##name0##_RC);                                                             \
  1: return (PROP_##name1##_RC);                                                             \
  2: return (PROP_##name2##_RC);                                                             \
  3: return (PROP_##name3##_RC);                                                             \
     return (PROP_##name4##_RC); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                   \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                                            \
  1: return get_power_in_cb((PROP_##name1##_PR));                                            \
  2: return get_power_in_cb((PROP_##name2##_PR));                                            \
  3: return get_power_in_cb((PROP_##name3##_PR));                                            \
     return get_power_in_cb((PROP_##name4##_PR)); }                                          \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                             \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));                           \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));                           \
  2: return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT));                           \
  3: return get_tec_int((PROP_##name3##_TE), (PROP_##name3##_WT));                           \
     return get_tec_int((PROP_##name4##_TE), (PROP_##name4##_WT)); }                         \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                  \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return round(PROP_##name0##_WT);                                                        \
  1: return round(PROP_##name1##_WT);                                                        \
  2: return round(PROP_##name2##_WT);                                                        \
  3: return round(PROP_##name3##_WT);                                                        \
     return round(PROP_##name4##_WT); }                                                      \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                   \
  (current_year >= year1) +                                                                  \
  (current_year >= year2) +                                                                  \
  (current_year >= year3) +                                                                  \
  (current_year >= year4) )                                                                  \
{ 0: return (PROP_##name0##_SD);                                                             \
  1: return (PROP_##name1##_SD);                                                             \
  2: return (PROP_##name2##_SD);                                                             \
  3: return (PROP_##name3##_SD);                                                             \
     return (PROP_##name4##_SD); }                                                           \

// A group change props 4 times as average

#define group_props4_HNMC(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                              \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: name0##_additional_text;                                                                     \
  1: name1##_additional_text;                                                                     \
  2: name2##_additional_text;                                                                     \
  3: name3##_additional_text;                                                                     \
     name4##_additional_text; }                                                                   \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                             \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: name0##_purchase_sprites;                                                                    \
  1: name1##_purchase_sprites;                                                                    \
  2: name2##_purchase_sprites;                                                                    \
  3: name3##_purchase_sprites;                                                                    \
     name4##_purchase_sprites; }                                                                  \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                  \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return round(                                                                                \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return round(                                                                                \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return round(                                                                                \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return round(                                                                                \
             ((PROP_##name3##_h_CF)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_CF)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_CF)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_CF)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return round(                                                                                \
             ((PROP_##name4##_h_CF)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_CF)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_CF)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_CF)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                               \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return round(                                                                                \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return round(                                                                                \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return round(                                                                                \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return round(                                                                                \
             ((PROP_##name3##_h_CC)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_CC)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_CC)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_CC)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return round(                                                                                \
             ((PROP_##name4##_h_CC)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_CC)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_CC)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_CC)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                          \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return round(                                                                                \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return round(                                                                                \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return round(                                                                                \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return round(                                                                                \
             ((PROP_##name3##_h_RC)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_RC)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_RC)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_RC)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return round(                                                                                \
             ((PROP_##name4##_h_RC)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_RC)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_RC)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_RC)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                        \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return get_power_in_cb(                                                                      \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return get_power_in_cb(                                                                      \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return get_power_in_cb(                                                                      \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return get_power_in_cb(                                                                      \
             ((PROP_##name3##_h_PR)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_PR)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_PR)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_PR)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return get_power_in_cb(                                                                      \
             ((PROP_##name4##_h_PR)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_PR)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_PR)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_PR)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                  \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return get_tec_int(                                                                          \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),                                   \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return get_tec_int(                                                                          \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),                                   \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return get_tec_int(                                                                          \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),                                   \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return get_tec_int(                                                                          \
             ((PROP_##name3##_h_TE)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_TE)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_TE)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_TE)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)),                                   \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return get_tec_int(                                                                          \
             ((PROP_##name4##_h_TE)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_TE)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_TE)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_TE)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)),                                   \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                       \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return round(                                                                                \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return round(                                                                                \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return round(                                                                                \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return round(                                                                                \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return round(                                                                                \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                        \
  (current_year >= year1) +                                                                       \
  (current_year >= year2) +                                                                       \
  (current_year >= year3) +                                                                       \
  (current_year >= year4) )                                                                       \
{ 0: return round(                                                                                \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +                                   \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +                                   \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /                                  \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                   \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                 \
  1: return round(                                                                                \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +                                   \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +                                   \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /                                  \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                   \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                 \
  2: return round(                                                                                \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +                                   \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +                                   \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /                                  \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                   \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                 \
  3: return round(                                                                                \
             ((PROP_##name3##_h_SD)  * (PROP_##name3##_h_num) +                                   \
              (PROP_##name3##_n_SD)  * (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_SD)  * (PROP_##name3##_m_num) +                                   \
              (PROP_##name3##_c_SD)  * (PROP_##name3##_c_num)) /                                  \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                   \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                 \
     return round(                                                                                \
             ((PROP_##name4##_h_SD)  * (PROP_##name4##_h_num) +                                   \
              (PROP_##name4##_n_SD)  * (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_SD)  * (PROP_##name4##_m_num) +                                   \
              (PROP_##name4##_c_SD)  * (PROP_##name4##_c_num)) /                                  \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                   \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) ); }                               \

// A group change props 5 times

#define group_props5(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                       \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: name0##_additional_text;                                                                              \
  1: name1##_additional_text;                                                                              \
  2: name2##_additional_text;                                                                              \
  3: name3##_additional_text;                                                                              \
  4: name4##_additional_text;                                                                              \
     name5##_additional_text; }                                                                            \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                      \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: name0##_purchase_sprites;                                                                             \
  1: name1##_purchase_sprites;                                                                             \
  2: name2##_purchase_sprites;                                                                             \
  3: name3##_purchase_sprites;                                                                             \
  4: name4##_purchase_sprites;                                                                             \
     name5##_purchase_sprites; }                                                                           \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                        \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return (PROP_##name0##_CC);                                                                           \
  1: return (PROP_##name1##_CC);                                                                           \
  2: return (PROP_##name2##_CC);                                                                           \
  3: return (PROP_##name3##_CC);                                                                           \
  4: return (PROP_##name4##_CC);                                                                           \
     return (PROP_##name5##_CC); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                           \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return (PROP_##name0##_CF);                                                                           \
  1: return (PROP_##name1##_CF);                                                                           \
  2: return (PROP_##name2##_CF);                                                                           \
  3: return (PROP_##name3##_CF);                                                                           \
  4: return (PROP_##name4##_CF);                                                                           \
     return (PROP_##name5##_CF); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                   \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return (PROP_##name0##_RC);                                                                           \
  1: return (PROP_##name1##_RC);                                                                           \
  2: return (PROP_##name2##_RC);                                                                           \
  3: return (PROP_##name3##_RC);                                                                           \
  4: return (PROP_##name4##_RC);                                                                           \
     return (PROP_##name5##_RC); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                 \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                                                          \
  1: return get_power_in_cb((PROP_##name1##_PR));                                                          \
  2: return get_power_in_cb((PROP_##name2##_PR));                                                          \
  3: return get_power_in_cb((PROP_##name3##_PR));                                                          \
  4: return get_power_in_cb((PROP_##name4##_PR));                                                          \
     return get_power_in_cb((PROP_##name5##_PR)); }                                                        \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                           \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));                                         \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));                                         \
  2: return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT));                                         \
  3: return get_tec_int((PROP_##name3##_TE), (PROP_##name3##_WT));                                         \
  4: return get_tec_int((PROP_##name4##_TE), (PROP_##name4##_WT));                                         \
     return get_tec_int((PROP_##name5##_TE), (PROP_##name5##_WT)); }                                       \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return round(PROP_##name0##_WT);                                                                      \
  1: return round(PROP_##name1##_WT);                                                                      \
  2: return round(PROP_##name2##_WT);                                                                      \
  3: return round(PROP_##name3##_WT);                                                                      \
  4: return round(PROP_##name4##_WT);                                                                      \
     return round(PROP_##name5##_WT); }                                                                    \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                 \
  (current_year >= year1) +                                                                                \
  (current_year >= year2) +                                                                                \
  (current_year >= year3) +                                                                                \
  (current_year >= year4) +                                                                                \
  (current_year >= year5) )                                                                                \
{ 0: return (PROP_##name0##_SD);                                                                           \
  1: return (PROP_##name1##_SD);                                                                           \
  2: return (PROP_##name2##_SD);                                                                           \
  3: return (PROP_##name3##_SD);                                                                           \
  4: return (PROP_##name4##_SD);                                                                           \
     return (PROP_##name5##_SD); }                                                                         \

// A group change props 5 times as average

#define group_props5_HNMC(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                            \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: name0##_additional_text;                                                                                   \
  1: name1##_additional_text;                                                                                   \
  2: name2##_additional_text;                                                                                   \
  3: name3##_additional_text;                                                                                   \
  4: name4##_additional_text;                                                                                   \
     name5##_additional_text; }                                                                                 \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                           \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: name0##_purchase_sprites;                                                                                  \
  1: name1##_purchase_sprites;                                                                                  \
  2: name2##_purchase_sprites;                                                                                  \
  3: name3##_purchase_sprites;                                                                                  \
  4: name4##_purchase_sprites;                                                                                  \
     name5##_purchase_sprites; }                                                                                \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                                \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return round(                                                                                              \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return round(                                                                                              \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return round(                                                                                              \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return round(                                                                                              \
             ((PROP_##name3##_h_CF)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_CF)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_CF)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_CF)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return round(                                                                                              \
             ((PROP_##name4##_h_CF)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_CF)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_CF)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_CF)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return round(                                                                                              \
             ((PROP_##name5##_h_CF)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_CF)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_CF)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_CF)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                             \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return round(                                                                                              \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return round(                                                                                              \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return round(                                                                                              \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return round(                                                                                              \
             ((PROP_##name3##_h_CC)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_CC)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_CC)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_CC)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return round(                                                                                              \
             ((PROP_##name4##_h_CC)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_CC)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_CC)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_CC)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return round(                                                                                              \
             ((PROP_##name5##_h_CC)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_CC)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_CC)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_CC)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                        \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return round(                                                                                              \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return round(                                                                                              \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return round(                                                                                              \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return round(                                                                                              \
             ((PROP_##name3##_h_RC)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_RC)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_RC)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_RC)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return round(                                                                                              \
             ((PROP_##name4##_h_RC)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_RC)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_RC)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_RC)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return round(                                                                                              \
             ((PROP_##name5##_h_RC)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_RC)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_RC)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_RC)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                      \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return get_power_in_cb(                                                                                    \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return get_power_in_cb(                                                                                    \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return get_power_in_cb(                                                                                    \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return get_power_in_cb(                                                                                    \
             ((PROP_##name3##_h_PR)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_PR)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_PR)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_PR)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return get_power_in_cb(                                                                                    \
             ((PROP_##name4##_h_PR)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_PR)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_PR)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_PR)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return get_power_in_cb(                                                                                    \
             ((PROP_##name5##_h_PR)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_PR)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_PR)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_PR)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                                \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return get_tec_int(                                                                                        \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),                                                 \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return get_tec_int(                                                                                        \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),                                                 \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return get_tec_int(                                                                                        \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),                                                 \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return get_tec_int(                                                                                        \
             ((PROP_##name3##_h_TE)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_TE)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_TE)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_TE)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)),                                                 \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return get_tec_int(                                                                                        \
             ((PROP_##name4##_h_TE)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_TE)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_TE)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_TE)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)),                                                 \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return get_tec_int(                                                                                        \
             ((PROP_##name5##_h_TE)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_TE)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_TE)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_TE)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)),                                                 \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                     \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return round(                                                                                              \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return round(                                                                                              \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return round(                                                                                              \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return round(                                                                                              \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return round(                                                                                              \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return round(                                                                                              \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                      \
  (current_year >= year1) +                                                                                     \
  (current_year >= year2) +                                                                                     \
  (current_year >= year3) +                                                                                     \
  (current_year >= year4) +                                                                                     \
  (current_year >= year5) )                                                                                     \
{ 0: return round(                                                                                              \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +                                                 \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +                                                 \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /                                                \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                 \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                               \
  1: return round(                                                                                              \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +                                                 \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +                                                 \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /                                                \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                 \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                               \
  2: return round(                                                                                              \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +                                                 \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +                                                 \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /                                                \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                 \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                               \
  3: return round(                                                                                              \
             ((PROP_##name3##_h_SD)  * (PROP_##name3##_h_num) +                                                 \
              (PROP_##name3##_n_SD)  * (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_SD)  * (PROP_##name3##_m_num) +                                                 \
              (PROP_##name3##_c_SD)  * (PROP_##name3##_c_num)) /                                                \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                 \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                               \
  4: return round(                                                                                              \
             ((PROP_##name4##_h_SD)  * (PROP_##name4##_h_num) +                                                 \
              (PROP_##name4##_n_SD)  * (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_SD)  * (PROP_##name4##_m_num) +                                                 \
              (PROP_##name4##_c_SD)  * (PROP_##name4##_c_num)) /                                                \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                 \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                               \
     return round(                                                                                              \
             ((PROP_##name5##_h_SD)  * (PROP_##name5##_h_num) +                                                 \
              (PROP_##name5##_n_SD)  * (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_SD)  * (PROP_##name5##_m_num) +                                                 \
              (PROP_##name5##_c_SD)  * (PROP_##name5##_c_num)) /                                                \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                 \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) ); }                                             \

// A group change props 6 times

#define group_props6(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5, name6, year6)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                                     \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: name0##_additional_text;                                                                                            \
  1: name1##_additional_text;                                                                                            \
  2: name2##_additional_text;                                                                                            \
  3: name3##_additional_text;                                                                                            \
  4: name4##_additional_text;                                                                                            \
  5: name5##_additional_text;                                                                                            \
     name6##_additional_text; }                                                                                          \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                                    \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: name0##_purchase_sprites;                                                                                           \
  1: name1##_purchase_sprites;                                                                                           \
  2: name2##_purchase_sprites;                                                                                           \
  3: name3##_purchase_sprites;                                                                                           \
  4: name4##_purchase_sprites;                                                                                           \
  5: name5##_purchase_sprites;                                                                                           \
     name6##_purchase_sprites; }                                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                                      \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return (PROP_##name0##_CC);                                                                                         \
  1: return (PROP_##name1##_CC);                                                                                         \
  2: return (PROP_##name2##_CC);                                                                                         \
  3: return (PROP_##name3##_CC);                                                                                         \
  4: return (PROP_##name4##_CC);                                                                                         \
  5: return (PROP_##name5##_CC);                                                                                         \
     return (PROP_##name6##_CC); }                                                                                       \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                                         \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return (PROP_##name0##_CF);                                                                                         \
  1: return (PROP_##name1##_CF);                                                                                         \
  2: return (PROP_##name2##_CF);                                                                                         \
  3: return (PROP_##name3##_CF);                                                                                         \
  4: return (PROP_##name4##_CF);                                                                                         \
  5: return (PROP_##name5##_CF);                                                                                         \
     return (PROP_##name6##_CF); }                                                                                       \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                                 \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return (PROP_##name0##_RC);                                                                                         \
  1: return (PROP_##name1##_RC);                                                                                         \
  2: return (PROP_##name2##_RC);                                                                                         \
  3: return (PROP_##name3##_RC);                                                                                         \
  4: return (PROP_##name4##_RC);                                                                                         \
  5: return (PROP_##name5##_RC);                                                                                         \
     return (PROP_##name6##_RC); }                                                                                       \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                               \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                                                                        \
  1: return get_power_in_cb((PROP_##name1##_PR));                                                                        \
  2: return get_power_in_cb((PROP_##name2##_PR));                                                                        \
  3: return get_power_in_cb((PROP_##name3##_PR));                                                                        \
  4: return get_power_in_cb((PROP_##name4##_PR));                                                                        \
  5: return get_power_in_cb((PROP_##name5##_PR));                                                                        \
     return get_power_in_cb((PROP_##name6##_PR)); }                                                                      \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                                         \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));                                                       \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));                                                       \
  2: return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT));                                                       \
  3: return get_tec_int((PROP_##name3##_TE), (PROP_##name3##_WT));                                                       \
  4: return get_tec_int((PROP_##name4##_TE), (PROP_##name4##_WT));                                                       \
  5: return get_tec_int((PROP_##name5##_TE), (PROP_##name5##_WT));                                                       \
     return get_tec_int((PROP_##name6##_TE), (PROP_##name6##_WT)); }                                                     \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                              \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return round(PROP_##name0##_WT);                                                                                    \
  1: return round(PROP_##name1##_WT);                                                                                    \
  2: return round(PROP_##name2##_WT);                                                                                    \
  3: return round(PROP_##name3##_WT);                                                                                    \
  4: return round(PROP_##name4##_WT);                                                                                    \
  5: return round(PROP_##name5##_WT);                                                                                    \
     return round(PROP_##name6##_WT); }                                                                                  \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                               \
  (current_year >= year1) +                                                                                              \
  (current_year >= year2) +                                                                                              \
  (current_year >= year3) +                                                                                              \
  (current_year >= year4) +                                                                                              \
  (current_year >= year5) +                                                                                              \
  (current_year >= year6) )                                                                                              \
{ 0: return (PROP_##name0##_SD);                                                                                         \
  1: return (PROP_##name1##_SD);                                                                                         \
  2: return (PROP_##name2##_SD);                                                                                         \
  3: return (PROP_##name3##_SD);                                                                                         \
  4: return (PROP_##name4##_SD);                                                                                         \
  5: return (PROP_##name5##_SD);                                                                                         \
     return (PROP_##name6##_SD); }                                                                                       \

// A group change props 6 times as average

#define group_props6_HNMC(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5, name6, year6)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                                          \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: name0##_additional_text;                                                                                                 \
  1: name1##_additional_text;                                                                                                 \
  2: name2##_additional_text;                                                                                                 \
  3: name3##_additional_text;                                                                                                 \
  4: name4##_additional_text;                                                                                                 \
  5: name5##_additional_text;                                                                                                 \
     name6##_additional_text; }                                                                                               \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                                         \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: name0##_purchase_sprites;                                                                                                \
  1: name1##_purchase_sprites;                                                                                                \
  2: name2##_purchase_sprites;                                                                                                \
  3: name3##_purchase_sprites;                                                                                                \
  4: name4##_purchase_sprites;                                                                                                \
  5: name5##_purchase_sprites;                                                                                                \
     name6##_purchase_sprites; }                                                                                              \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                                              \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return round(                                                                                                            \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return round(                                                                                                            \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return round(                                                                                                            \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return round(                                                                                                            \
             ((PROP_##name3##_h_CF)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_CF)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_CF)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_CF)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return round(                                                                                                            \
             ((PROP_##name4##_h_CF)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_CF)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_CF)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_CF)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return round(                                                                                                            \
             ((PROP_##name5##_h_CF)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_CF)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_CF)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_CF)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return round(                                                                                                            \
             ((PROP_##name6##_h_CF)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_CF)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_CF)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_CF)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                                           \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return round(                                                                                                            \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return round(                                                                                                            \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return round(                                                                                                            \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return round(                                                                                                            \
             ((PROP_##name3##_h_CC)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_CC)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_CC)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_CC)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return round(                                                                                                            \
             ((PROP_##name4##_h_CC)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_CC)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_CC)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_CC)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return round(                                                                                                            \
             ((PROP_##name5##_h_CC)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_CC)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_CC)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_CC)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return round(                                                                                                            \
             ((PROP_##name6##_h_CC)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_CC)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_CC)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_CC)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                                      \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return round(                                                                                                            \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return round(                                                                                                            \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return round(                                                                                                            \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return round(                                                                                                            \
             ((PROP_##name3##_h_RC)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_RC)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_RC)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_RC)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return round(                                                                                                            \
             ((PROP_##name4##_h_RC)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_RC)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_RC)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_RC)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return round(                                                                                                            \
             ((PROP_##name5##_h_RC)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_RC)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_RC)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_RC)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return round(                                                                                                            \
             ((PROP_##name6##_h_RC)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_RC)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_RC)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_RC)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                                    \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return get_power_in_cb(                                                                                                  \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return get_power_in_cb(                                                                                                  \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return get_power_in_cb(                                                                                                  \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return get_power_in_cb(                                                                                                  \
             ((PROP_##name3##_h_PR)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_PR)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_PR)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_PR)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return get_power_in_cb(                                                                                                  \
             ((PROP_##name4##_h_PR)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_PR)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_PR)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_PR)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return get_power_in_cb(                                                                                                  \
             ((PROP_##name5##_h_PR)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_PR)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_PR)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_PR)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return get_power_in_cb(                                                                                                  \
             ((PROP_##name6##_h_PR)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_PR)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_PR)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_PR)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                                              \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return get_tec_int(                                                                                                      \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),                                                               \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return get_tec_int(                                                                                                      \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),                                                               \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return get_tec_int(                                                                                                      \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),                                                               \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return get_tec_int(                                                                                                      \
             ((PROP_##name3##_h_TE)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_TE)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_TE)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_TE)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)),                                                               \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return get_tec_int(                                                                                                      \
             ((PROP_##name4##_h_TE)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_TE)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_TE)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_TE)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)),                                                               \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return get_tec_int(                                                                                                      \
             ((PROP_##name5##_h_TE)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_TE)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_TE)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_TE)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)),                                                               \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return get_tec_int(                                                                                                      \
             ((PROP_##name6##_h_TE)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_TE)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_TE)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_TE)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)),                                                               \
             ((PROP_##name6##_h_WT)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_WT)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_WT)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_WT)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                                   \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return round(                                                                                                            \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return round(                                                                                                            \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return round(                                                                                                            \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return round(                                                                                                            \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return round(                                                                                                            \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return round(                                                                                                            \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return round(                                                                                                            \
             ((PROP_##name6##_h_WT)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_WT)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_WT)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_WT)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                                    \
  (current_year >= year1) +                                                                                                   \
  (current_year >= year2) +                                                                                                   \
  (current_year >= year3) +                                                                                                   \
  (current_year >= year4) +                                                                                                   \
  (current_year >= year5) +                                                                                                   \
  (current_year >= year6) )                                                                                                   \
{ 0: return round(                                                                                                            \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +                                                               \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +                                                               \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /                                                              \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                               \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                             \
  1: return round(                                                                                                            \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +                                                               \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +                                                               \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /                                                              \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                               \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                             \
  2: return round(                                                                                                            \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +                                                               \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +                                                               \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /                                                              \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                               \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                             \
  3: return round(                                                                                                            \
             ((PROP_##name3##_h_SD)  * (PROP_##name3##_h_num) +                                                               \
              (PROP_##name3##_n_SD)  * (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_SD)  * (PROP_##name3##_m_num) +                                                               \
              (PROP_##name3##_c_SD)  * (PROP_##name3##_c_num)) /                                                              \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                               \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                             \
  4: return round(                                                                                                            \
             ((PROP_##name4##_h_SD)  * (PROP_##name4##_h_num) +                                                               \
              (PROP_##name4##_n_SD)  * (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_SD)  * (PROP_##name4##_m_num) +                                                               \
              (PROP_##name4##_c_SD)  * (PROP_##name4##_c_num)) /                                                              \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                               \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                             \
  5: return round(                                                                                                            \
             ((PROP_##name5##_h_SD)  * (PROP_##name5##_h_num) +                                                               \
              (PROP_##name5##_n_SD)  * (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_SD)  * (PROP_##name5##_m_num) +                                                               \
              (PROP_##name5##_c_SD)  * (PROP_##name5##_c_num)) /                                                              \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                               \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                             \
     return round(                                                                                                            \
             ((PROP_##name6##_h_SD)  * (PROP_##name6##_h_num) +                                                               \
              (PROP_##name6##_n_SD)  * (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_SD)  * (PROP_##name6##_m_num) +                                                               \
              (PROP_##name6##_c_SD)  * (PROP_##name6##_c_num)) /                                                              \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                               \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) ); }                                                           \

// A group change props 7 times

#define group_props7(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5, name6, year6, name7, year7)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                                                   \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: name0##_additional_text;                                                                                                          \
  1: name1##_additional_text;                                                                                                          \
  2: name2##_additional_text;                                                                                                          \
  3: name3##_additional_text;                                                                                                          \
  4: name4##_additional_text;                                                                                                          \
  5: name5##_additional_text;                                                                                                          \
  6: name6##_additional_text;                                                                                                          \
     name7##_additional_text; }                                                                                                        \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                                                  \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: name0##_purchase_sprites;                                                                                                         \
  1: name1##_purchase_sprites;                                                                                                         \
  2: name2##_purchase_sprites;                                                                                                         \
  3: name3##_purchase_sprites;                                                                                                         \
  4: name4##_purchase_sprites;                                                                                                         \
  5: name5##_purchase_sprites;                                                                                                         \
  6: name6##_purchase_sprites;                                                                                                         \
     name7##_purchase_sprites; }                                                                                                       \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                                                    \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return (PROP_##name0##_CC);                                                                                                       \
  1: return (PROP_##name1##_CC);                                                                                                       \
  2: return (PROP_##name2##_CC);                                                                                                       \
  3: return (PROP_##name3##_CC);                                                                                                       \
  4: return (PROP_##name4##_CC);                                                                                                       \
  5: return (PROP_##name5##_CC);                                                                                                       \
  6: return (PROP_##name6##_CC);                                                                                                       \
     return (PROP_##name7##_CC); }                                                                                                     \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                                                       \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return (PROP_##name0##_CF);                                                                                                       \
  1: return (PROP_##name1##_CF);                                                                                                       \
  2: return (PROP_##name2##_CF);                                                                                                       \
  3: return (PROP_##name3##_CF);                                                                                                       \
  4: return (PROP_##name4##_CF);                                                                                                       \
  5: return (PROP_##name5##_CF);                                                                                                       \
  6: return (PROP_##name6##_CF);                                                                                                       \
     return (PROP_##name7##_CF); }                                                                                                     \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                                               \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return (PROP_##name0##_RC);                                                                                                       \
  1: return (PROP_##name1##_RC);                                                                                                       \
  2: return (PROP_##name2##_RC);                                                                                                       \
  3: return (PROP_##name3##_RC);                                                                                                       \
  4: return (PROP_##name4##_RC);                                                                                                       \
  5: return (PROP_##name5##_RC);                                                                                                       \
  6: return (PROP_##name6##_RC);                                                                                                       \
     return (PROP_##name7##_RC); }                                                                                                     \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                                             \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return get_power_in_cb((PROP_##name0##_PR));                                                                                      \
  1: return get_power_in_cb((PROP_##name1##_PR));                                                                                      \
  2: return get_power_in_cb((PROP_##name2##_PR));                                                                                      \
  3: return get_power_in_cb((PROP_##name3##_PR));                                                                                      \
  4: return get_power_in_cb((PROP_##name4##_PR));                                                                                      \
  5: return get_power_in_cb((PROP_##name5##_PR));                                                                                      \
  6: return get_power_in_cb((PROP_##name6##_PR));                                                                                      \
     return get_power_in_cb((PROP_##name7##_PR)); }                                                                                    \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                                                       \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return get_tec_int((PROP_##name0##_TE), (PROP_##name0##_WT));                                                                     \
  1: return get_tec_int((PROP_##name1##_TE), (PROP_##name1##_WT));                                                                     \
  2: return get_tec_int((PROP_##name2##_TE), (PROP_##name2##_WT));                                                                     \
  3: return get_tec_int((PROP_##name3##_TE), (PROP_##name3##_WT));                                                                     \
  4: return get_tec_int((PROP_##name4##_TE), (PROP_##name4##_WT));                                                                     \
  5: return get_tec_int((PROP_##name5##_TE), (PROP_##name5##_WT));                                                                     \
  6: return get_tec_int((PROP_##name6##_TE), (PROP_##name6##_WT));                                                                     \
     return get_tec_int((PROP_##name7##_TE), (PROP_##name7##_WT)); }                                                                   \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                                            \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return round(PROP_##name0##_WT);                                                                                                  \
  1: return round(PROP_##name1##_WT);                                                                                                  \
  2: return round(PROP_##name2##_WT);                                                                                                  \
  3: return round(PROP_##name3##_WT);                                                                                                  \
  4: return round(PROP_##name4##_WT);                                                                                                  \
  5: return round(PROP_##name5##_WT);                                                                                                  \
  6: return round(PROP_##name6##_WT);                                                                                                  \
     return round(PROP_##name7##_WT); }                                                                                                \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                                             \
  (current_year >= year1) +                                                                                                            \
  (current_year >= year2) +                                                                                                            \
  (current_year >= year3) +                                                                                                            \
  (current_year >= year4) +                                                                                                            \
  (current_year >= year5) +                                                                                                            \
  (current_year >= year6) +                                                                                                            \
  (current_year >= year7) )                                                                                                            \
{ 0: return (PROP_##name0##_SD);                                                                                                       \
  1: return (PROP_##name1##_SD);                                                                                                       \
  2: return (PROP_##name2##_SD);                                                                                                       \
  3: return (PROP_##name3##_SD);                                                                                                       \
  4: return (PROP_##name4##_SD);                                                                                                       \
  5: return (PROP_##name5##_SD);                                                                                                       \
  6: return (PROP_##name6##_SD);                                                                                                       \
     return (PROP_##name7##_SD); }                                                                                                     \

// A group change props 7 times as average

#define group_props7_HNMC(name_g, name0, name1, year1, name2, year2, name3, year3, name4, year4, name5, year5, name6, year6, name7, year7)  \
switch (FEAT_TRAINS, SELF, name_g##_additional_text,                                                                                        \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: name0##_additional_text;                                                                                                               \
  1: name1##_additional_text;                                                                                                               \
  2: name2##_additional_text;                                                                                                               \
  3: name3##_additional_text;                                                                                                               \
  4: name4##_additional_text;                                                                                                               \
  5: name5##_additional_text;                                                                                                               \
  6: name6##_additional_text;                                                                                                               \
     name7##_additional_text; }                                                                                                             \
switch (FEAT_TRAINS, SELF, name_g##_purchase_sprites,                                                                                       \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: name0##_purchase_sprites;                                                                                                              \
  1: name1##_purchase_sprites;                                                                                                              \
  2: name2##_purchase_sprites;                                                                                                              \
  3: name3##_purchase_sprites;                                                                                                              \
  4: name4##_purchase_sprites;                                                                                                              \
  5: name5##_purchase_sprites;                                                                                                              \
  6: name6##_purchase_sprites;                                                                                                              \
     name7##_purchase_sprites; }                                                                                                            \
switch (FEAT_TRAINS, SELF, name_g##_cost_factor,                                                                                            \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return round(                                                                                                                          \
             ((PROP_##name0##_h_CF)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_CF)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_CF)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_CF)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return round(                                                                                                                          \
             ((PROP_##name1##_h_CF)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_CF)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_CF)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_CF)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return round(                                                                                                                          \
             ((PROP_##name2##_h_CF)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_CF)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_CF)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_CF)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return round(                                                                                                                          \
             ((PROP_##name3##_h_CF)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_CF)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_CF)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_CF)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return round(                                                                                                                          \
             ((PROP_##name4##_h_CF)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_CF)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_CF)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_CF)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return round(                                                                                                                          \
             ((PROP_##name5##_h_CF)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_CF)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_CF)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_CF)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return round(                                                                                                                          \
             ((PROP_##name6##_h_CF)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_CF)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_CF)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_CF)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return round(                                                                                                                          \
             ((PROP_##name7##_h_CF)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_CF)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_CF)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_CF)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_cargo_capacity,                                                                                         \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return round(                                                                                                                          \
             ((PROP_##name0##_h_CC)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_CC)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_CC)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_CC)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return round(                                                                                                                          \
             ((PROP_##name1##_h_CC)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_CC)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_CC)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_CC)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return round(                                                                                                                          \
             ((PROP_##name2##_h_CC)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_CC)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_CC)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_CC)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return round(                                                                                                                          \
             ((PROP_##name3##_h_CC)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_CC)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_CC)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_CC)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return round(                                                                                                                          \
             ((PROP_##name4##_h_CC)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_CC)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_CC)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_CC)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return round(                                                                                                                          \
             ((PROP_##name5##_h_CC)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_CC)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_CC)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_CC)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return round(                                                                                                                          \
             ((PROP_##name6##_h_CC)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_CC)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_CC)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_CC)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return round(                                                                                                                          \
             ((PROP_##name7##_h_CC)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_CC)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_CC)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_CC)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_running_cost_factor,                                                                                    \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return round(                                                                                                                          \
             ((PROP_##name0##_h_RC)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_RC)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_RC)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_RC)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return round(                                                                                                                          \
             ((PROP_##name1##_h_RC)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_RC)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_RC)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_RC)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return round(                                                                                                                          \
             ((PROP_##name2##_h_RC)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_RC)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_RC)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_RC)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return round(                                                                                                                          \
             ((PROP_##name3##_h_RC)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_RC)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_RC)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_RC)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return round(                                                                                                                          \
             ((PROP_##name4##_h_RC)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_RC)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_RC)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_RC)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return round(                                                                                                                          \
             ((PROP_##name5##_h_RC)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_RC)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_RC)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_RC)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return round(                                                                                                                          \
             ((PROP_##name6##_h_RC)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_RC)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_RC)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_RC)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return round(                                                                                                                          \
             ((PROP_##name7##_h_RC)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_RC)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_RC)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_RC)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_power,                                                                                                  \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return get_power_in_cb(                                                                                                                \
             ((PROP_##name0##_h_PR)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_PR)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_PR)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_PR)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return get_power_in_cb(                                                                                                                \
             ((PROP_##name1##_h_PR)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_PR)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_PR)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_PR)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return get_power_in_cb(                                                                                                                \
             ((PROP_##name2##_h_PR)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_PR)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_PR)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_PR)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return get_power_in_cb(                                                                                                                \
             ((PROP_##name3##_h_PR)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_PR)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_PR)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_PR)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return get_power_in_cb(                                                                                                                \
             ((PROP_##name4##_h_PR)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_PR)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_PR)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_PR)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return get_power_in_cb(                                                                                                                \
             ((PROP_##name5##_h_PR)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_PR)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_PR)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_PR)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return get_power_in_cb(                                                                                                                \
             ((PROP_##name6##_h_PR)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_PR)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_PR)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_PR)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return get_power_in_cb(                                                                                                                \
             ((PROP_##name7##_h_PR)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_PR)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_PR)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_PR)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_tractive_effort_coefficient,                                                                            \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return get_tec_int(                                                                                                                    \
             ((PROP_##name0##_h_TE)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_TE)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_TE)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_TE)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)),                                                                             \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return get_tec_int(                                                                                                                    \
             ((PROP_##name1##_h_TE)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_TE)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_TE)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_TE)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)),                                                                             \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return get_tec_int(                                                                                                                    \
             ((PROP_##name2##_h_TE)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_TE)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_TE)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_TE)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)),                                                                             \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return get_tec_int(                                                                                                                    \
             ((PROP_##name3##_h_TE)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_TE)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_TE)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_TE)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)),                                                                             \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return get_tec_int(                                                                                                                    \
             ((PROP_##name4##_h_TE)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_TE)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_TE)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_TE)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)),                                                                             \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return get_tec_int(                                                                                                                    \
             ((PROP_##name5##_h_TE)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_TE)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_TE)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_TE)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)),                                                                             \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return get_tec_int(                                                                                                                    \
             ((PROP_##name6##_h_TE)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_TE)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_TE)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_TE)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)),                                                                             \
             ((PROP_##name6##_h_WT)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_WT)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_WT)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_WT)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return get_tec_int(                                                                                                                    \
             ((PROP_##name7##_h_TE)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_TE)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_TE)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_TE)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)),                                                                             \
             ((PROP_##name7##_h_WT)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_WT)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_WT)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_WT)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_weight,                                                                                                 \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return round(                                                                                                                          \
             ((PROP_##name0##_h_WT)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_WT)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_WT)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_WT)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return round(                                                                                                                          \
             ((PROP_##name1##_h_WT)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_WT)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_WT)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_WT)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return round(                                                                                                                          \
             ((PROP_##name2##_h_WT)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_WT)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_WT)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_WT)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return round(                                                                                                                          \
             ((PROP_##name3##_h_WT)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_WT)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_WT)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_WT)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return round(                                                                                                                          \
             ((PROP_##name4##_h_WT)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_WT)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_WT)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_WT)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return round(                                                                                                                          \
             ((PROP_##name5##_h_WT)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_WT)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_WT)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_WT)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return round(                                                                                                                          \
             ((PROP_##name6##_h_WT)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_WT)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_WT)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_WT)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return round(                                                                                                                          \
             ((PROP_##name7##_h_WT)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_WT)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_WT)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_WT)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \
switch (FEAT_TRAINS, SELF, name_g##_speed,                                                                                                  \
  (current_year >= year1) +                                                                                                                 \
  (current_year >= year2) +                                                                                                                 \
  (current_year >= year3) +                                                                                                                 \
  (current_year >= year4) +                                                                                                                 \
  (current_year >= year5) +                                                                                                                 \
  (current_year >= year6) +                                                                                                                 \
  (current_year >= year7) )                                                                                                                 \
{ 0: return round(                                                                                                                          \
             ((PROP_##name0##_h_SD)  * (PROP_##name0##_h_num) +                                                                             \
              (PROP_##name0##_n_SD)  * (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_SD)  * (PROP_##name0##_m_num) +                                                                             \
              (PROP_##name0##_c_SD)  * (PROP_##name0##_c_num)) /                                                                            \
             ((PROP_##name0##_h_num) + (PROP_##name0##_n_num) +                                                                             \
              (PROP_##name0##_m_num) + (PROP_##name0##_c_num)) );                                                                           \
  1: return round(                                                                                                                          \
             ((PROP_##name1##_h_SD)  * (PROP_##name1##_h_num) +                                                                             \
              (PROP_##name1##_n_SD)  * (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_SD)  * (PROP_##name1##_m_num) +                                                                             \
              (PROP_##name1##_c_SD)  * (PROP_##name1##_c_num)) /                                                                            \
             ((PROP_##name1##_h_num) + (PROP_##name1##_n_num) +                                                                             \
              (PROP_##name1##_m_num) + (PROP_##name1##_c_num)) );                                                                           \
  2: return round(                                                                                                                          \
             ((PROP_##name2##_h_SD)  * (PROP_##name2##_h_num) +                                                                             \
              (PROP_##name2##_n_SD)  * (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_SD)  * (PROP_##name2##_m_num) +                                                                             \
              (PROP_##name2##_c_SD)  * (PROP_##name2##_c_num)) /                                                                            \
             ((PROP_##name2##_h_num) + (PROP_##name2##_n_num) +                                                                             \
              (PROP_##name2##_m_num) + (PROP_##name2##_c_num)) );                                                                           \
  3: return round(                                                                                                                          \
             ((PROP_##name3##_h_SD)  * (PROP_##name3##_h_num) +                                                                             \
              (PROP_##name3##_n_SD)  * (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_SD)  * (PROP_##name3##_m_num) +                                                                             \
              (PROP_##name3##_c_SD)  * (PROP_##name3##_c_num)) /                                                                            \
             ((PROP_##name3##_h_num) + (PROP_##name3##_n_num) +                                                                             \
              (PROP_##name3##_m_num) + (PROP_##name3##_c_num)) );                                                                           \
  4: return round(                                                                                                                          \
             ((PROP_##name4##_h_SD)  * (PROP_##name4##_h_num) +                                                                             \
              (PROP_##name4##_n_SD)  * (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_SD)  * (PROP_##name4##_m_num) +                                                                             \
              (PROP_##name4##_c_SD)  * (PROP_##name4##_c_num)) /                                                                            \
             ((PROP_##name4##_h_num) + (PROP_##name4##_n_num) +                                                                             \
              (PROP_##name4##_m_num) + (PROP_##name4##_c_num)) );                                                                           \
  5: return round(                                                                                                                          \
             ((PROP_##name5##_h_SD)  * (PROP_##name5##_h_num) +                                                                             \
              (PROP_##name5##_n_SD)  * (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_SD)  * (PROP_##name5##_m_num) +                                                                             \
              (PROP_##name5##_c_SD)  * (PROP_##name5##_c_num)) /                                                                            \
             ((PROP_##name5##_h_num) + (PROP_##name5##_n_num) +                                                                             \
              (PROP_##name5##_m_num) + (PROP_##name5##_c_num)) );                                                                           \
  6: return round(                                                                                                                          \
             ((PROP_##name6##_h_SD)  * (PROP_##name6##_h_num) +                                                                             \
              (PROP_##name6##_n_SD)  * (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_SD)  * (PROP_##name6##_m_num) +                                                                             \
              (PROP_##name6##_c_SD)  * (PROP_##name6##_c_num)) /                                                                            \
             ((PROP_##name6##_h_num) + (PROP_##name6##_n_num) +                                                                             \
              (PROP_##name6##_m_num) + (PROP_##name6##_c_num)) );                                                                           \
     return round(                                                                                                                          \
             ((PROP_##name7##_h_SD)  * (PROP_##name7##_h_num) +                                                                             \
              (PROP_##name7##_n_SD)  * (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_SD)  * (PROP_##name7##_m_num) +                                                                             \
              (PROP_##name7##_c_SD)  * (PROP_##name7##_c_num)) /                                                                            \
             ((PROP_##name7##_h_num) + (PROP_##name7##_n_num) +                                                                             \
              (PROP_##name7##_m_num) + (PROP_##name7##_c_num)) ); }                                                                         \

// -
